## 정의

<aside>
💡 Json을 사용하여 사용자에 대한 속성을 저장하는 Clain기반의 Web Token이다. JWT는 토큰 자체를 정보로 사용하는 Self-Contained 방식으로 정보를 안전하게 전달한다.

</aside>

## 구조

크게 Header, Payload, Signature로 구분합니다.

### Header

토큰의 타입을 나타내는 `typ`와 Signature를 해싱하기위해 어떤 알고리즘을 사용하는지 나타내는 `alg`로 구성되어있다.

### Payload

토큰에서 사용할 정보인 `Claim`을 담고있다. 

************************************등록된 클레임************************************

- 토큰의 정보를 표현하기 위해 이미 정해진 종류의 값을 담고있다.
    - **iss :** 토큰 발급자
    - **sub :** 토큰 제목
    - **aud :** 토큰 대상자
    - **exp :** 토큰 만료 시간
    - **nbf :** 토큰 활성 날짜
    - **iat :** 토큰 발급 시간
    - **jti :** JWT 토큰 식별자

**************************공개 클레임**************************

- 사용자 정의 클레임으로, 공개용 정보를 위해 사용됩니다. 충돌 방지를 위해 URI 포멧을 사용합니다.

### Signature

토큰의 유효성을 검증하기 위해 사용된다.

## 신뢰성 검증

유저 JWT가 A(Header) + B(Payload) + C(Signature) 일 때 임의의 유저가 B를 수정해서 B’가 됐다고 가정하자

만약 다른 유저가 B를 임의로 수정한다면→ 유저 JWT: A+B’+C 가 된다.

- 수정한 토큰을 서버에 요청을 보내면 서버는 유효성 검사 시행
    - 유저 JWT: A+B’+C
    - 서버에서 검증 후 생성한 JWT : A + B’ + C’ ⇒ Signature가 불일치 (C ≠ C’)
    - 대조 결과가 일치하지 않아 유저의 정보가 임의로 조작되었음을 알 수 있다.
- 즉, 서버는 클라이언트로 받은 JWT의 헤더, 페이로드를 서버의 key 값을 사용하여 **Signature를 다시 만들고** 이를 비교하며 일치 했을 경우 인증을 통과시킨다.
