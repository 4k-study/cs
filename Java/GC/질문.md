## ❓ 질문

### ******Q. gc종류에 대해 설명해주세요. ******
```
GC의 종류에는 Minor GC와 Major GC가 존재합니다.
Minor GC는 생성된지 얼마되지 않은 객체들에 대한 GC를 의미하고 Major GC는 긴 기간동안 GC의 대상이 되지 않은 객체에 대한 GC를 의미합니다.
그래서 Major GC가 Minor GC보다 실행에 걸리는 시간이 훨씬 짧습니다.
```
<br>

### **Q. 자바에서 채택한 gc 알고리즘 무엇인가요? **
``` 
자바에서 채택한 GC 방식은 Mark and Sweep 방식입니다.
먼저 Mark는 GC의 대상이 될 객체들을 찾는 과정입니다. 메모리에 할당된 객체를 참조하는 인스턴스들이 존재하는지를 스택 영역이나 메소드 영역을 Root Space로
그래프 순회를 통해서 찾고 객체를 참조하고 있는 인스턴스가 없다면 GC의 대상이 됩니다.
Sweep은 GC의 대상이 된 객체들을 제거하는 과정입니다.
```
<br>

### ******Q. gc 의 동작 알고리즘에 대해 알려주세요******
```
일단 JVM의 Heap 메모리 영역은 메모리의 효율적인 사용을 위해서 Young 영역과 Old 영역으로 나뉩니다. 그리고 Young 영역은 Eden, Survival 0, Survival 1으로 나뉩니다.
그래서 먼저 Eden 영역의 메모리가 가득차면 Young 영역에 존재하는 모든 객체에 대해서 Mark 과정을 수행하고 GC의 대상이 되지 않는 객체들을 Surival 영역 중 빈 영역 한곳으로 옮깁니다.
그 후, Young 영역의 GC의 대상이 되는 객체들을 모두 제거하고 이를 Minor GC라고 합니다. 그리고 살아남은 객체들의 age 값을 하나씩 증가시킵니다. 이를 반복하면서 age의 임계값에 도달한 객체를 Old 영역으로
옮기는데요. 이 영역이 가득차게 되면 Major GC가 동작하는 방식으로 전체 GC가 동작하게 됩니다.
```
<br>

### ******Q. 자바 버전 몇을 사용하시죠? 사용하는 jdk 버전의 디폴트 gc에 대해 설명해주세요******
```
저는 자바 17 버전을 사용해봤고 해당 jdk에서 사용하는 디폴트 gc는 ZGC입니다.
이는 앞서 설명드렸던 Heap 영역에 존재하는 역할 영역들을 물리적으로 분할하지 않고 특정 메모리 공간마다 해당 역할을 부여하는 방식으로 동작하여 Region 방식을 기초로 하고 있습니다.
Region 방식에서 할당하는 메모리 공간의 크기도 조절할 수 있어 이를 Z-page라고 부릅니다. 해당 방식은 Heap 영역이 커져도 10ms 이하로 동작하도록 짜여진 알고리즘이라고 합니다.
```
<br>

### ******Q. JVM의 GC 알고리즘을 직접 설정해야 한다면 가장 고려해야하는 부분이 뭘지 말해주세요.******
```
JVM의 GC 알고리즘을 설정해야 한다면 고려해야 할 부분은 STW 시간과 호환되는 jdk 버전입니다.
그 이유는 STW 시간이 길다면 프로그램이 동작하지 않는 시간이 길어지기 때문에 짧은 것이 좋고 특정 알고리즘이 삭제된 jdk 버전들이 존재하기 때문에 호환성을 고려해야한다고 생각합니다.
```
<br>
