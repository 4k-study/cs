# Reflection이란?

리플렉션은 힙 영역에 로드된 Class 타입의 객체를 통해서 원하는 클래스의 인스턴스를 생성할 수 있도록 지원하고 인스턴스의 필드와 메서드를 접근 제어자 상관없이 사용할  수 있도록 지원하는 API입니다.

여기서 로드된 클래스라고 함은 JVM의 클래스 로더에서 클래스 파일에 대한 로딩을 완료한 후에 해당 클래스의 정보를 담은 Class 타입의 객체를 생성해서 힙 영역에 저장해두는데 그것 의미합니다.

### 사용하는 이유

프레임워크와 같이 큰 규모의 개발 단계에서 수많은 객체와 의존 관계를 파악하기 어려운데 이럴 때 리플렉션을 통해서 동적으로 클래스를 만들고 의존 관계를 맺어줄 수 있습니다.

예를 들어, 스프링에서 Controller, Service 등과 같은 어노테이션을 붙이면 자동으로 인스턴스를 생성하고 관리해줍니다. 개발자가 어떤 클래스인지를 명시하지 않았지만 해당 어노테이션들이 붙어있는 클래스를 찾으면 리플렉션을 통해서 해당 클래스의 인스턴스를 생성하고 필요한 필드들을 주입하는 방식으로 빈 팩토리에서 관리하게 됩니다.

### 장/단점

- 장점
    - 런타임에 인스턴스 생성이 가능하고 접근 제어자와 상관없이 클래스의 내부 요소들에 접근할 수 있어 유연성을 가지고 있습니다.
- 단점
    - 캡슐화를 저해합니다.
    - 런타임에서 인스턴스를 생성하여 컴파일 시점에서의 타입 체크가 불가하고 구체적 동작 흐름 파악이 어렵습니다.
    - 일반적으로 단순 필드 및 메서드로의 접근보다는 성능이 느리다.
