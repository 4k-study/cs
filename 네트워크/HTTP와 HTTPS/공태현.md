# HTTP와 HTTPS 차이

<aside>
💡 HTTP란 (Hyper Text Transfer Protocol)로 클라이언트와 서버사이에서 데이터를 주고받는 통신 프로토콜이다. HTTP는 데이터를 전송할 때 텍스트로 전송하기 때문에 탈취당한다면 보안에 문제가 발생할 수 있다는 단점이 있다.

</aside>

<aside>
💡 HTTPS (Hyper Text Transfer Protocol Over **Secure** Socket Layer)는 HTTP에서 보안이 강화된 프로토콜이다. HTTP는 암호화되지 않은 방법으로 데이터를 전송하기 때문에 서버와 클라이어트가 주고 받는 메시지가 탈취될 가능성이 있다. 이러한 문제점을 개선하고자 HTTP 프로토콜로 전송되는 메시지를 **암호화**하여 제 3자가 알아볼 수 없게 데이터를 전송하는데, 이를 **HTTPS** 라고 한다.

</aside>

## SSL 인증서

<aside>
💡 SSL은 클라이언트와 서버간의 통신을 제 3자가 보증해주는 전자화된 문서이다. 클라이언트가 서버에 접속한 직후에 서버는 클라이언트에게 이 인증서 정보를 전달한다. 클라이언트는 이 인증서 정보가 신뢰할 수 있는 것인지를 검증한다.

</aside>

### 장점

- 통신 내용이 공격자에게 노출되는 것을 막을 수 있다.
- 클라이언트가 접속하려는 서버가 신뢰할 수 있는 서버인지를 판단할 수 있다.
- 통신 내용의 악의적인 변경을 방지할 수 있다.

## 과정

### 인증서 발급

1. 서버의 정보와 공개키를 CA에 제출한다.
2. CA가 해당 정보를 바탕으로 CA의 개인키로 암호화 한 뒤 인증서를 발급해준다.

### HTTPS 보안 동작

1. 클라이언트가 서버에 접근한다.
2. 서버는 브라우저에게 인증서를 보낸다.
3. 브라우저는 내장되어 있는 CA의 공개키를 사용해서 해당 인증서를 복호화한다.
    1. 복호화에 성공했다면 해당 서버는 신뢰성이 입증되는 것이다.
4. 인증서에서 얻어낸 서버의 공개키를 사용하여 대칭키를 암호화해서 서버에 데이터와 함께 보낸다.
    1. 이때 이 대칭키는 서버에서 준 정보와 클라이언트의 정보를 조합해서 생성한다.
    2. 이 대칭키는 절대 노출되어선 안된다.
5. 서버는 클라이언트로부터 받은 암호화를 서버의 개인키로 복호화해서 값을 얻어낸다.
6. 해당 키를 대칭키로 하여 데이터를 안전하게 암호화해서 송/수신할 수 있다.
7. 세션이 종료되면 해당 대칭키를 폐기한다.

## 질문

**Q. SSL 인증서의 기능은 무엇인가요?**

**Q. HTTPS는 HTTP Header와 Body 중 어느 부분을 암호화하나요?**

→ 모든 HTTP 데이터를 모두 암호화합니다.
