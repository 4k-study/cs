# OSI 7계층이란?

OSI 7 계층은 네트워크 프로토콜이 통신하는 구조를 7개의 계층으로 분리하여 각 계층간 상호 작동하는 방식을 정해 놓은 것입니다.

OSI 7 계층은

1계층인 피지컬 레이어와 순차적으로 데이터링크 레이어, 네트워크 레이어, 트랜포트 레이어, 세션 레이어, 프레젠테이션 레이어, 마지막으로 애플리케이션 레이어로 구성되어있습니다.

### 피지컬 레이어

OSI 모델의 맨 밑에 있는 계층으로 실질적으로 네트워크 데이터가 전송되는 물리적인 매체를 의미합니다.

### 데이터 링크 레이어

물리적인 네트워크를 통해서 노드에서 노드로 데이터를 전송하는 수단을 의미합니다. 노드 투 노드 간 신뢰성 있는 전송을 보장하기 위해서 CRC 기반의 오류 제어와 흐름 제어가 필요합니다. Ethernet

- CRC 오류 제어 : 각 패킷에 대한 체크섬 값을 생성하고 패킷에 추가한 후 수신 장치에서는 패킷에 대한 자체 체크섬 값을 계산하고 수신된 체크섬 과 비교하는 형식의 오류 제어.
    - checksum : 중복 검사의 한 형태로 CRC를 체크섬이라고 말하기도 합니다. 엄밀히 말하면 체크섬은 나열도니 데이터를 더해서 체크섬 숫자를 얻고 정해진 비트수의 모듈라로 정해진 비트수로 재구성합니다.
        - 4 바이트의 데이터 있다고 가정 : 0x25, 0x62, 0x3F, 0x52
        
        1. 모든 바이트 덧셈하기 → 0x118
        
        1. 캐리 니블 버리기 (1바이트의 반으로 4비트를 의미) → 0x18
        2. 0x18의 2의 보수 얻기 → 0xE8 ⇒ 이것이 체크섬 바이트
        3. 체크섬 바이트 테스트 → 원래 그룹의 바이트에 체크섬 바이트 모두 더하기 ⇒ 0x200
        4. 다시 캐리 니블 버리기 → 0x00이 된다는 뜻은 오류가 없음. (오류가 있는데 우연히 0x00이 될수도 있음.) 
- 흐름 제어 : 두 장치 간의 데이터 흐름을 관리하는데 사용되는 메커니즘입니다. 수신 장치에서 데이터가 너무 많아서 패킷 손실이나 버퍼 오버플로우가 발생하지 않도록 합니다.
    
    고속 컴퓨터가 저속 프린터로 데이터를 전송하는 상황에서 컴퓨터가 프린터의 처리 용량을 초과하는 속도록 데이터를 전송할 때 프린터의 버퍼가 가득 차서 수신 패킷 중 일부가 손실될 수 있습니다. 이로 인해 인쇄가 불완전해지고 리소스가 낭비될 수 있습니다. 이때 송신 장치에서 수신 장치의 버퍼를 모니터링하고 그에 따라 데이터 전송 속도를 조정할 수 있습니다.
    
    일반적인 흐름 제어 메커니즘은 슬라이딩 윈도우 프로토콜이고 슬라이딩 윈도우를 사용해서 한 번에 전송할 수 있는 패킷 수를 제어하고 송신자는 다음 패킷 집합을 보내기 전에 수신자의 확인을 기다리는 형식으로 제어할 수 있습니다.
    
    흐름 제어는 네트워크 정체를 방지하고 네트워크 장치 간에 효율적인 데이터 전송을 보장하기 위해 데이터 링크 계층에서 필수적인 메커니즘입니다.
    

### 네트워크 계층

서로 다른 네트워크에서의 패킷 전송을 위해 패킷의 논리적 주소 지정 및 라우팅을 담당합니다. 그리고 패킷 크기가 네트워크 최대 전송 단위를 넘었을 때 fragmentation과 재조립을 담당합니다. IP, ICMP, ARP

- 패킷 라우팅을 위해선 IP를 이용하고 다른 네트워크 계층 프로토콜에서는 IP 주소를 MAC 주소에 매핑하는 ARP와 오류 보고 및 테스트에서 사용되는 ICMP가 포함됩니다.

### 트랜스포트 계층

데이터 분할 및 재조립을 하고 흐름 제어와 오류 복구 메커니즘을 제공해서 서로 다른 호스트에서 실행되는 응용 프로그램 간의 신뢰할 수 있는 종단 간 통신을 제공합니다. TCP, UDP

### 세션 계층

서로 다른 호스트에서 실행되는 응용 프로그램 간의 세션을 설정하고 유지 및 종료하는 서비스를 제공합니다. 이 과정에서 응용 프로그램 간의 통신 조정 및 동기화를 담당하고 세션 설정, 인증과 같은 세비스를 제공합니다.

### 프레젠테이션 계층

데이터를 양측이 모두 이해할 수 있도록 인코딩, 디코딩, 암호화, 복호화, 압축, 압축 해제와 같은 역할을 수행합니다. PNG, SSL

### 애플리케이션 계층

사용자 애플리케이션이 네트워크에 액세스 하고 다른 애플리케이션과 통신할 수 있도록 하는 서비스를 제공합니다. 응용 프로그램이 네트워크에 액세스하는데 사용하는 프로토콜 및 서비스를 정의하고 오류 복구 메커니즘을 제공하며 기본 네트워크 기술과 독립적입니다. HTTP, SMTP, FTP

# OSI 모델과 TCP/IP 모델의 차이점

- TCP/IP 모델에서는 상위 3개의 계층을 단일 계층으로 결합해서 더 단순하다.
- TCP/IP 모델은 인터넷의 요구에 더 초점을 맞췄다.
- 인터넷의 맥락에서 TCP/IP 모델이 더 널리 사용됩니다. 사실상 네트워크 작동 방식을 설명하는 표준이 되었습니다.
