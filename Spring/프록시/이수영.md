# 프록시란?

프록시는 대리자라는 의미로 실제 기능을 수행하는 객체 대신 가상의 객체를 사용하여 흐름을 제어하는 디자인 패턴입니다.

### 프록시의 특징

- 요청된 기능 외의 부가적인 작업을 별도로 수행할 수 있습니다.
- 비용이 많이 드는 연산(DB 쿼리, 대용량 텍스트 파일 등)을 실제로 필요한 시점까지 미룰 수 있다는 특징이 있습니다.

### 스프링에서의 프록시

일반적으로 스프링에서 사용되는 프록시는 두 가지 유형을 나눌 수 있습니다.

- JDK 동적 프록시
    - Java Reflection API를 사용해서 런타임에 생성되고 타겟의 인터페이스를 상속한 프록시 객체를 생성하여 동작합니다.
    - 생성된 프록시 객체엔 InvocationHandler이 포함되어 있고 이는 기존 타겟을 그대로 바라볼 수 있게 요청을 위임하는 코드를 프록시 객체에 작성하기 위해 사용됩니다.
- CGLIB
    - Code Generator Library의 약자로 라이브러리에 의해서 생성됩니다. JDK 동적 프록시와 달리 인터페이스 없이 작동하며 클래스의 바이트 코드를 조작하여  프록시 객체를 생성해주는 라이브러리입니다.
    - CGLIB은 타켓 클래스에 포함된 모든 메서드를 재정의하고 바이트 코드를 조작하여 프록시를 생성해 final 메서드가 들어있거나 final 클래스면 안됩니다. 더불어 private 접근자로 된 메서드도 상속이 불가하여 적용되지 않습니다.
