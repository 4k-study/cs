## 정의

OSIV 는 Open Session In View 의 약자입니다. JPA를 사용하는 웹 애플리케이션에서 세션을 요청과 응답 주기 동안 유지하는 방식을 의미합니다. 영속성 컨텍스트를 쭉 유지한다 생각하면 됩니다.

일반적으로 JPA 사용시에 데이터베이스 트랜잭션 내에서 작업을 수행합니다. 하지만 OSIV 패턴을 적용하면 데이터베이스 세션을 웹 요청의 시작부터 끝까지 유지하므로, 뷰에서 지연된 로딩 문제를 해결할 수 있습니다.

## 장단점

장점

- 간편한 데이터베이스 세션 관리
    - OSIV를 사용하면 개발자가 명시적으로 세션을 열고 닫을 필요가 없습니다. 세션을 요청과 응답 주기 동안 열어두므로 세션 관리에 대한 부담이 줄어듭니다.
- 뷰에서의 지연 로딩 문제 해결
    - JPA 에서 영속 상태가 아닌 엔티티를 지연 로딩 시에 예외가 발생합니다. OSIV 를 사용하면 뷰에서 필요한 데이터를 이런 고민 없이 로딩할 수 있습니다.

단점

- 리소스 사용과 성능 문제
    - OSIV 는 커넥션을 오랫동안 유지하므로 다른 프로세스나 스레드에서 해당 데이터베이스 리소스를 사용하지 못합니다. 이로 인해 성능 저하가 발생할 수 있으며, 데이터베이스 연결 수의 제한이 있는 경우 문제가 될 수 있습니다.
- 초과 로딩 문제 발생 가능성
    - OSIV 를 사용하면 모든 관련 데이터를 한 번에 가져오게 되므로, 필요하지 않은 데이터까지 불필요하게 로딩할 수 있습니다. 이는 성능 저하 및 메모리 사용 측면에서 문제가 될 수 있습니다.
- 트랜잭션 경계 모호성
    - OSIV는 트랜잭션의 경계를 모호하게 만들 수 있습니다. 영속성 컨텍스트의 주기와 트랜잭션의 주기가 맞지 않아 실수할 여지를 만들 수 있습니다.
