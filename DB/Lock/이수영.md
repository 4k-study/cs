# DB Lock

DB Lock은 여러 사용자들이 동시에 같은 데이터에 접근하여 데이터의 무결성과 일관성을 지키기 위해서 사용됩니다.

DB Lock은 총 아래 4가지로 구성됩니다.

1. **공유 락**
    
    : 읽기 명령에 주어지는 락으로 공유 락끼리의 동시 접근은 허용합니다.
    
2. **베타 락**
    
    : 데이터 변경에 대해 주어지는 락이고 쓰기와 읽기 모든 동시 접근을 허용하지 않습니다.
    
3. **업데이트 락**
    
    : UPDATE 쿼리가 발생하면 그 때 공유 락이 걸리고 그 후에 배타 락이 걸리는데 이 때 Conversion 데드락이 걸릴 수 있습니다. 이를 해결하기 위해서 읽기나 수정 작업의 접근을 허용하지 않습니다.
    
4. **인덴트 락**
    
    : 요청 데이터 범위에 락이 걸 수 있는지에 대한 여부를 빠르게파악하기 위해서 사용됩니다. 락이 걸린 범위보다 더 큰 범위의 락들은 락을 걸 수 없습니다.
