# DB 샤딩이란?

DB 샤딩은 DB에 존재하는 데이터를 좀 더 관리하기 쉽게 작은 조각으로 여러 DB 서버로 분할하여 저장해서 DB 시스템의 확장성을 개선하는데 사용되는 기술입니다. DB 샤딩을 통해서 하나의 DB 서버에 몰리던 부하를 분산할 수 있습니다.

### 샤딩의 요구사항

샤딩을 하기 위해서 공통된 요구사항이 존재하는데

- 먼저, 분할된 DB 서버로의 라우팅을 위해서 구분할 수 있는 유니크한 키값이 필요합니다.
- 설정으로 쉽게 증설이 가능해야 합니다.

### 구현

이런 샤딩은 사실 DBMS가 일번적으로 지원하는 기능이 아니기 때문에 ORM을 이용하거나 DB에 접근하는 서버에서 구현해주는 작업이 필요합니다.

자바의 경우엔 AbstractRoutingDataSource를 구현함으로써 해당 작업을 수행할 수 있습니다.

### 주의할 점

하지만 샤딩을 이용할 때 좋은 점만 있는 것은 아니기에 신중히 선택해야 합니다.

왜냐면 샤딩은 실제 구현이 복잡하기도 하고 잘못 수행 시에 데이터가 손실되거나 테이블이 손상되는 등의 문제가 발생할 수 있습니다. 이뿐만 아니라 샤딩을 구현한 후에 원래 구조로 다시 되돌리는 과정이 매우 복잡하고 어렵습니다.
