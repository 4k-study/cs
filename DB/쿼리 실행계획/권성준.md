## 실행 계획이란?

데이터베이스에서 SQL 쿼리를 실행할 때, 데이터베이스는 쿼리의 최적 실행 계획을 결정합니다. 최적 실행 계획이란, 쿼리를 가장 효율적으로 실행하기 위한 절차와 방법을 의미합니다.

## 실행 계획의 구성 요소

실행 계획은 데이터베이스 시스템에서 SQL 쿼리를 처리하기 위한 단계별 절차를 나열한 계획도로 표시됩니다. 이 계획은 쿼리의 실행 단계와 각 단계에서 사용되는 데이터베이스 객체와 액세스 방법 등을 정의합니다.

실행 계획은 일반적으로 다음과 같은 구성 요소를 포함합니다.

- 테이블 또는 뷰
- 인덱스
- 조인 방법
- 필터링 조건
- 그룹화 방법
- 정렬 방법 등

## 실행 계획 분석

실행 계획을 분석하기 위해선 SCAN 의 종류와 사용되는 때를 알면 좋습니다.

- **FULL TABLE SCAN:** 테이블의 전체 데이터를 읽어 조건에 맞는 데이터를 추출하는 방식
- **ROWID SCAN:** ID 를 기준으로 데이터를 추출. 단일 행에 접근하는 방식 중에서 가장 빠름
- **INDEX SCAN:** 인덱스를 활용하여 원하는 데이터를 추출하는 방식

### FULL TABLE SCAN 이 사용되는 경우

- 조건절에서 비교한 칼럼에 인덱스가 없는 경우
- 조건절에서 비교한 컬럼에 최적화된 인덱스는 있지만 조건에 만족하는 데이터가 많아 FULL TABLE SCAN이 낫다고 옵티마이저가 판단하는 경우
- 인덱스는 있으나, 테이블의 데이터 자체가 적어 FULL TABLE SCAN 이 낫다고 옵티마이저가 판단하는 상황
- 테이블 생성 시 컬럼 수가 크게 설정되어 있는 경우

### ROWID SCAN 이 사용되는 경우

- 조건절에 ID 를 직접 명시할 경우
- INDEX SCAN 을 통해 ID 를 추출한 후 테이블에 접근할 경우

### INDEX SCAN 이 사용되는 경우

- INDEX UNIQUE SCAN
    - UNIQUE 인덱스를 구성하는 모든 컬럼이 조건에 "=" 로 명시된 경우
- INDEX RANGE SCAN
    - 인덱스의 컬럼이 WHERE 절에 존재하는 경우
- ORDER BY 절에 인덱스가 지정된 컬럼을 사용한 경우
