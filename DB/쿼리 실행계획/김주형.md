# 실행 계획(Execution plan)

- 데이터베이스에서 쿼리를 실행할 때 사용하는 일련의 작업 단계를 나타낸 것이다.
- 실행 계획은 쿼리가 실행되는 방법을 결정한다.
- 쿼리 옵티마이저는 쿼리를 분석하고, 최적의 실행 계획을 생성하기 위해 
여러 가지 실행 계획을 비교하고 평가한다.

## 실행계획의 의의

- 실행 계획에서 테이블과 인덱스를 스캔하거나 조인하는 각 작업 단계의 예상 비용을 볼 수 있다.
- 실행 계획은 쿼리 실행 전에 생성되므로, 쿼리를 실행하기 전에 어떤 작업이 수행되는지 
미리 볼 수 있고, 이 비용으로 쿼리 성능을 평가하고, 최적화하는 데 사용된다.

# 보는 방법

```sql
explain [쿼리문]
```

# 쿼리 실행 계획 - 항목별 상세 내용

| 항목 | 내용 |
| --- | --- |
| id | select 번호 |
| select type | select 종류 |
| table | 참조 테이블명 |
| type | 조인이나 조회 종류 |
| possible_keys | 사용가능한 인덱스 목록 |
| key | 사용된 인덱스 |
| key_len | 인덱스의 길이 |
| ref | 키와 함께 사용된 컬럼이나 상수값 |
| rows | 조회 행 수 |
| filtered | 조회 예정행 수의 추정 비율(조회 행수 / 전체 행수) |
| extra | 추가 정보 |

# Select type의 종류

|  | 의미 |
| --- | --- |
| SIMPLE | UNION이나 서브쿼리 없는 단순한 select이다. |
| PRIMARY | 제일 외곽의 select(서브쿼리가 있는 경우)를 의미한다. |
| DERIVED | FROM 절 내부의 서브쿼리이다. |
| DEPENDENT SUBQUERY | 상호 연관된 서브쿼리이다. |
| UNION | UNION에서 두번째 혹은 나중 select를 의미한다. |
| SUBQUERY | 서브쿼리의 첫 번째 select이다. |
