## ❓ 질문

### Q. 트랜잭션 특징 중에 일관성에 대해 좀 더 상세히 설명해 주세요?
```
트랜잭션의 특징 중 일관성이란 
데이터 베이스에 데이터 무결성과 유니크 제약 조건, 외래키 제약 조건이 있을 때, 
트랜잭션 전과 후에 이런 조건들이 깨지지 않음을 의미합니다.
```
<br>

### Q. 데드락은 뭘까요?
``` 
데이터베이스 deadlock(교착 상태)이란, 
여러 transaction들이 각각 자신의 데이터에 대하여 lock을 획득한 상태에서 
상대방 데이터에 대하여 접근하고자 대기를 할 때 교차 대기를 하게 되면서 서로 영원히 기다리는 상태를 말합니다.
```
<br>

### Q. 격리수준에서 repeatable read는 read committed랑 어떤점이 크게 다른가요?
```
committed read와 repeatable read는 모두 dirty read를 방지 할 수 있습니다. 
다만, read committed는 non-repeatable read를 방지 할 수 없지만, repeatable read는 방지할 수 있습니다.
```
<br>

### Q. 트랜잭션의 중첩이란 무엇이며, 어떤 경우에 발생하나요?
```
부모 트랜잭션이 존재한다면 중첩 트랜잭션을 생성합니다. 
중첩된 트랜잭션 내부에서 롤백 발생시 해당 중첩 트랜잭션의 시작 지점 까지만 롤백됩니다. 
중첩 트랜잭션은 부모 트랜잭션이 커밋될 때 같이 커밋됩니다.
부모 트랜잭션이 존재하지 않는다면 새로운 트랜잭션을 생성합니다.
```
<br>

### Q. mvcc에 대해 설명해주세요.
```
동시 접근을 허용하는 데이터베이스에서 동시성을 제어하기 위해 사용하는 방법 중 하나입니다. 
MVCC에서 데이터에 접근하는 사용자는 접근한 시점에 데이터베이스의 Snapshot을 읽습니다.
snapshot 데이터에 대한 변경이 완료(commit)될 때 까지의 변경사항은 다른 데이터베이스 사용자가 볼 수 없습니다.

이후에 사용자가 업데이트하면 이전의 데이터를 덮어 씌우는게 아니라 새로운 버전의 데이터를 UNDO 영역에 생성합니다. 
대신 이전 버전의 데이터와 비교해서 변경된 내용을 기록합니다. 
이렇게 해서 하나의 데이터에 대해 여러 버전의 데이터가 존재하게 되고, 
사용자는 마지막 버전의 데이터를 읽게 됩니다.

일반적인 RDBMS보다 매우 빠르게 작동한다는 장점이 있지만, 
사용하지 않는 데이터가 계속 쌓이게 되므로 데이터를 정리하는 시스템이 필요하고,
데이터 버전이 충돌하면 애플리케이션 영역에서 이러한 문제를 해결하고, 부가적인 오버헤드가 있을 수 있다는 단점이 있습니다.
```
<br>

### Q. dirty write 문제가 발생할 수 있는 트랜잭션 격리 레벨을 설명해주세요.
```
dirty write는 read-uncommitted에서 발생할 수 있습니다. 
read-committed부터는 commit 하지 않은 데이터를 읽고, 
쓰는 것을 허용하지 않음으로 read-committed 부터 dirty write를 방지 할 수 있습니다.
```
<br>

### Q. 스프링이 제공하는 트랜잭션 핵심 기술 3가지에 대해 말씀해주세요.
```
1. 트랜잭션 동기화 - 트랜잭션을 시작하기 위한 Connection 객체를 특별한 저장소에 보관해두고 필요할 때 꺼내쓸 수 있도록 하는 기술
2. 트랜잭션 추상화 - 트랜잭션 기술의 공통점을 담은 트랜잭션 추상화 기술, 이를 이용함으로써 특정 기술(JDBC, JPA, Hibernate 등)에 종속적인 코드를 이용하지 않고도 일관되게 트랜잭션을 처리
3. aop를 이용한 트랜잭션 분리 - 트랜잭션 코드와 비지니스 로직 코드를 분리할 수 있도록 하는 기술
이상의 1., 2., 3.가 있습니다.
```
<br>
