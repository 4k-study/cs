## 인덱스

- DB 테이블의 검색 성능을 높여주는 자료구조
- 특정 컬럼에 인덱스를 생성하면, 컬럼의 데이터들을 정렬하여 별도의 메모리 공간에 데이터의 물리적 주소와 함꼐 저장

## 인덱스의 자료구조

### 해시테이블

- 잘 사용하지 않음
    - 해시테이블은 정렬되어 있지 않아 = 등호에 최적화된 자료구조로, >, < 연산이 많은 DB 특성 상 적절하지 않음

### B+ 트리

- Root node, Branch node, Leaf node 로 구성되어 계층적 구조를 가짐
- Leaf node 에만 인덱스와 데이터를 저장하고 Root node 와 Branch node 에는 인덱스만 저장함
    - Leaf node 외에는 데이터를 저장하지 않기에 메모리 효율이 높음
    - Leaf node 에만 데이터가 저장되어 있기에 풀 스캔 시 O(n) 의 시간이 걸림
    - 

## 인덱스의 장단점

### 장점

- 데이터가 정렬되어 있어서 조회 속도가 향상됨
    - **where**: 조건에 맞는 데이터를 찾기 위해 처음부터 끝까지 비교를 해야하는데, 정렬되어 있기에 빠르게 조회 가능함
    - **order by**: 정렬 과정이 부하가 많이 걸리는 작업인데 인덱스가 걸려있는 컬럼은 이미 정렬되어 있기에 부하를 피할 수 있음
    - **min, max**: 인덱스가 걸려있는 컬럼은 정렬되어 있기에 처음부터 끝까지 조회하여 찾지 않고 효율적으로 검색 가능함

### 단점

- DML 시 성능이 저하됨
    - 인덱스가 적용된 컬럼은 정렬된 상태를 유지해야함
    - 따라서, INSERT, DELETE, UPDATE 시 정렬을 해주어야하여 추가적인 작업이 필요함
    - DELETE, UPDATE 의 경우 기존 인덱스가 적용된 데이터를 사용하지 않게하는 식으로 동작함
- 인덱스가 무조건 조회 성능에 좋은 것은 아님
    - 조회가 많은 컬럼에는 인덱스를 걸어주는 것이 대체로 좋지만, 데이터 양이 많지 않은 경우는 그렇지 않을 수 있음
- 저장공간 차지
    - 인덱스를 관리하기 위해 DB 의 저장공간을 약 10% 가 필요함
    - 인덱스를 무차별적으로 만들면 전체적인 DB 에 부하를 줌
