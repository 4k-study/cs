## ❓ 질문

### Q. 매번 커넥션을 생성하는게 왜 느린거죠?
```
TCP/IP 3 way handshake 과정, DB 세션 생성 과정과 같은 오버헤드가 존재하기 때문에 매번 커넥션을 생성하면 느려지게 됩니다.
```
<br>

### Q. 커넥션 풀 종류는 뭐가 있을까요?
``` 
HikariCP
Apache Commons DBCP
Tomcat JDBC Pool
BoneCP
C3P0

등이 있습니다.
```
<br>

### Q. 스프링의 디폴트 디비 커넥션 풀은 뭔가요?
```
HikariCP 입니다.
```
<br>

### Q. 왜 HikariCP를 사용하나요? 
```
HikariCP는 높은 확장성과 안정성을 제공합니다. 
연결을 제한하지 않아 동시에 많은 접속자가 접속해도 안정적으로 동작하 예외 핸들링이 잘되어 있어 예외 상황에 대한 처리가 빠르게 이루어져 이를 기본 CP로 사용합니다.
```
<br>

### Q. 스프링 1.x.x도 HikariCP를 기본 커넥션 풀로 사용하나요?
```
스프링 2.0부터 HikariCP를 기본 커넥션 풀로 사용하여 스프링 1버전 대에서는 기본 커넥션 풀로 사용하지 않습니다.
```
<br>

### Q. 커넥션 풀의 크기가 커지면 항상 성능이 향상될까요?
```
코어 당 동시에 하나의 작업만 처리할 수 있기 때문에 pool size를 키운다고 해서 무조건적으로 처리가 빨라지는 것은 아닙니다. 
디스크와 네트워크를 고려해서 CPU 코어의 개수보다 많은 것이 좋습니다.
```
<br>

### Q. HikariCP에서 스레드가 커넥션을 꺼내는데 커넥션이 모두 사용중이라면 어떻게 동작하나요?
```
차단 대기 상태로 가용 가능한 커넥션이 생길 때까지 대기합니다.
```
<br>

### Q. 만약 요청 응답 큐도 full 상태라면 어떻게 동작할까요?
```
이는 요구 사항이나 구현에 따라 달라지겠지만 요청이 계속 기다리는 것은 성능적으로 좋지 않기에
503과 같이 서비스를 사용할 수 없다는 의미의 상태 코드를 반환하는 것이 좋을 것 같습니다.
```
<br>

### Q. 스프링부트에서 HikariCP 커스텀하는법 어떤게 있을까요?
```
yml 파일을 이용해서 HikariCP의 속성을 수정하면 최대 보유하는 커넥션의 수나 지연 시간과 같은 부분들을 수정할 수 있습니다.
```
<br>

### Q. 스프링에서 DataSource는 무엇인가요?
```
DataSource는 DB 커넥션을 획득하는 방법을 추상화 하는 인터페이스입니다. 
기존에는 DriverManager를 이용해서 커넥션을 획득했지만 이를 사용하다가 커넥션 풀을 이용하고 싶은 경우 코드 수정이 필요했고 이를 해결하기 위해 DataSource가 구현되었습니다.
```
<br>
